<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login/Signup Form</title>
  <link rel="stylesheet" href="login.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
  
</head>

<body>

  <!-- navbar start -->
  <div id="nav">
    <h3><b>MANOJ</b> Portfolio</h3>
    <div id="nav-content">
      <a href="index.html" target="_blank" rel="noopener noreferrer">HOME</a>
      <a href="http://" target="_blank" rel="noopener noreferrer">ABOUT</a>
      <a href="http://" target="_blank" rel="noopener noreferrer">SERVICES</a>
      <a href="http://" target="_blank" rel="noopener noreferrer">PORTFOLIO</a>
    </div>
    <button class="trigger-button" onclick="showPopup()">Contact Me!</button>
    <button class="trigger-button" onclick="showPopup()">login</button>
  </div>

  <!-- nav end -->

  <div class="container">
    <div class="form-box login">
      <form action="#">
        <h1>Login</h1>
        <div class="input-box">
          <input type="text" placeholder="email" id="login-email" required>
          <i class='bx bxs-user'></i>
        </div>
        <div class="input-box">
          <input type="password" placeholder="Password" id="login-password" required>
          <i class='bx bxs-lock-alt'></i>
        </div>
        <div class="forgot-link">
          <a href="#">Forgot Password?</a>
        </div>
        <button type="submit" class="btn" onclick="login(event)">Login</button>
        <p>or login with social platforms</p>
        <div class="social-icons">
          <a href="#"><i class='bx bxl-google'></i></a>
          <a href="#"><i class='bx bxl-facebook'></i></a>
          <a href="#"><i class='bx bxl-github'></i></a>
          <a href="#"><i class='bx bxl-linkedin'></i></a>
        </div>
      </form>
    </div>

    <div class="form-box register">
      <form action="#">
        <h1>Registration</h1>
        <div class="input-box">
          <input type="text" placeholder="Username" id="signup-username" required>
          <i class='bx bxs-user'></i>
        </div>
        <div class="input-box">
          <input type="email" placeholder="Email" id="signup-email" required>
          <i class='bx bxs-envelope'></i>
        </div>
        <div class="input-box">
          <input type="password" placeholder="Password" id="signup-password" required>
          <i class='bx bxs-lock-alt'></i>
        </div>
        <button type="submit" class="btn" onclick="signup(event)">Register</button>
        <p>or register with social platforms</p>
        <div class="social-icons">
          <a href="#"><i class='bx bxl-google'></i></a>
          <a href="#"><i class='bx bxl-facebook'></i></a>
          <a href="#"><i class='bx bxl-github'></i></a>
          <a href="#"><i class='bx bxl-linkedin'></i></a>
        </div>
      </form>
    </div>

    <div class="toggle-box">
      <div class="toggle-panel toggle-left">
        <h1>Hello, Welcome!</h1>
        <p>Don't have an account?</p>
        <button class="btn register-btn">Register</button>
      </div>

      <div class="toggle-panel toggle-right">
        <h1>Welcome Back!</h1>
        <p>Already have an account?</p>
        <button class="btn login-btn">Login</button>
      </div>
    </div>
  </div>

  <script src="login.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyABAxiSusVSF47isp9liUjdNhpopnSkEN8",
        authDomain: "loginmanoj-efd3f.firebaseapp.com",
        projectId: "loginmanoj-efd3f",
        storageBucket: "loginmanoj-efd3f.appspot.com", // Fixed storage bucket
        messagingSenderId: "156141914293",
        appId: "1:156141914293:web:9b3e3aceb6b7785983d6fc"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Signup Function
    window.signup = function (event) {
        event.preventDefault();
        const email = document.getElementById("signup-email").value;
        const password = document.getElementById("signup-password").value;

        createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                alert("Signup Successful! Please Login.");
            })
            .catch((error) => {
                alert(error.message);
            });
    };

    // Login Function
    window.login = function (event) {
        event.preventDefault();
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;

        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                alert("Login Successful!");
                window.location.href = "inbox.html";
            })
            .catch((error) => {
                alert(error.message);
            });
    };
</script>
</body>

</html>